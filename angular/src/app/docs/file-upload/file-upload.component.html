<div class='container'>
  <h1>File Upload Component</h1>

  <app-tabs
    [tabs]="[
      {
        name: 'File Drag Drop',
        examples: [
          {
            html: fileDragDropHtml,
            content: fileDragDropContent,
            code: fileDragDropTs,
            documentation: fileDragDropDocumentation
          }
        ]
      },
      {
        name: 'File Drag Drop for Multiple Files',
        examples: [
          {
            html: multipleFileDragDropHtml,
            content: multipleFilesDragDropContent,
            code: multipleFileDragDropTs
          }
        ]
      },
      {
        name: 'File Select',
        examples: [
          {
            html: fileSelectHtml,
            content: fileSelectContent,
            code: fileSelectTs,
            scss: fileSelectScss,
            documentation: fileSelectDocumentation
          }
        ]
      },
      {
        name: 'File Select for Multiple Files',
        examples: [
          {
            html: multipleFileSelectHtml,
            content: multipleFilesSelectContent,
            code: multipleFileSelectTs,
            scss: multipleFileSelectScss
          }
        ]
      }
    ]">
  </app-tabs>
</div>


<!-- Another component is referenced because the template is not part of the DOM when trying to reference ViewChild for the button.-->
<!-- Reference: https://github.com/valor-software/ngx-bootstrap/issues/3825#issuecomment-856434294 -->
<ng-template #fileDragDropContent>
  <h2>Demo Example</h2>
  <app-file-drag-drop></app-file-drag-drop>
</ng-template>

<ng-template #fileDragDropDocumentation>
  <h2>File Drag Drop</h2>
  <p>This directive allows for the drag and drop behavior in an element.</p>

  <h2>Attributes</h2>
  <table>
    <tr>
      <td><b>Name</b></td>
      <td><b>Type</b></td>
      <td><b>Default Value</b></td>
      <td><b>Required?</b></td>
      <td><b>Description</b></td>
      <td><b>Example</b></td>
    </tr>
    <tr>
      <td>cms-file-drag-drop</td>
      <td></td>
      <td></td>
      <td>yes</td>
      <td>Directive for the file drag and drop feature in the file upload module</td>
      <td><code [highlight]="'<input cms-file-drag-drop />'"></code></td>
    </tr>
    <tr>
      <td>accept</td>
      <td><code>string</code></td>
      <td><i>undefined</i></td>
      <td>no</td>
      <td>Default HTML Attribute. Accepted File <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types'>MIME</a> types. When no value is provided for the accept attribute, the file drag and drop will output the same dropped files. If one of the file does not match the file type accepted, it will output the file event error.</td>
      <td><code [highlight]="'image/png,application/zip'"></code></td>
    </tr>
    <tr>
      <td>invalidTypesErrorMessage</td>
      <td><code>string</code></td>
      <td><i>undefined</i></td>
      <td>no</td>
      <td>Description for error handling when there is an error while validating the accepted file types.</td>
      <td><code [highlight]="'Wrong file format! Accepted files are: .png, .zip.'"></code></td>
    </tr>
  </table>

  <h2>Methods</h2>
  <h4><code>fileEvent</code></h4>
  <p>When a file is dropped in the element, this event will be emitted from the drop event of the host element.</p>
  <hr/>

  <h4><code>fileDragEvent</code></h4>
  <h6>Output:</h6>
  <code
    [highlight]="'{\n'+
'    errorTitle: \'Failed to Upload File\',\n'+
'    errorDescription: \'Some example error\'\n'+
'    }'"
  ></code>
  <p>
    An error is emitted when the dropped file type is not part of the value in the <code>accept</code> attribute. For example, an event will fire when the dropped file is <code>"image/png"</code> but the accepted type is <code>'image/jpeg'</code>. The <code>invalidTypesErrorMessage</code> can be provided in order for the error description to be returned.
  </p>
  <hr/>

  <h4><code>fileDropErrorEvent</code></h4>
  <p>This event is emitted when an object is dragged over the host element. When the object leaves the element, it will also emit the event.</p>
</ng-template>

<ng-template #multipleFilesDragDropContent>
  <app-multiple-files-drag-drop></app-multiple-files-drag-drop>
</ng-template>

<ng-template #fileSelectContent>
  <app-file-select></app-file-select>
</ng-template>

<ng-template #fileSelectDocumentation>
  <h2>File Select</h2>
  <p>This directive allows for the file select behavior in an element.</p>

  <h2>Attributes</h2>
  <table>
    <tr>
      <td><b>Name</b></td>
      <td><b>Type</b></td>
      <td><b>Default Value</b></td>
      <td><b>Required?</b></td>
      <td><b>Description</b></td>
      <td><b>Example</b></td>
    </tr>
    <tr>
      <td>cms-file-select</td>
      <td></td>
      <td></td>
      <td>yes</td>
      <td>Directive for the file select feature in the file upload module</td>
      <td><code [highlight]="'<input cms-file-drag-drop />'"></code></td>
    </tr>
    <tr>
      <td>accept</td>
      <td><code>string</code></td>
      <td><i>undefined</i></td>
      <td>no</td>
      <td>Default HTML Attribute. Accepted File <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types'>MIME</a> types. When no value is provided, all file types are accepted. A file error event will be returned in the output when an unaccepted file is provided.</td>
      <td><code [highlight]="'image/png,application/zip'"></code></td>
    </tr>
    <tr>
      <td>multiple</td>
      <td><code>boolean</code></td>
      <td><i>false</i></td>
      <td>no</td>
      <td>Default HTML Attribute that allows for multiple file selection in the file dialog.</td>
      <td><code [highlight]="'<input cms-file-drag-drop multiple />'"></code></td>
    </tr>
    <tr>
      <td>invalidTypesErrorMessage</td>
      <td><code>string</code></td>
      <td><i>undefined</i></td>
      <td>no</td>
      <td>Description for error handling when there is an error while validating the accepted file types.</td>
      <td><code [highlight]="'Wrong file format! Accepted files are: .png, .zip.'"></code></td>
    </tr>
  </table>

  <h2>Methods</h2>
  <h4><code>fileEvent</code></h4>
  <p>When a file is dropped in the element, this event will be emitted from the drop event of the host element.</p>
  <hr/>

  <h4><code>fileDropErrorEvent</code></h4>
  <p>This event is emitted when an object is dragged over the host element. When the object leaves the element, it will also emit the event.</p>
</ng-template>

<ng-template #multipleFilesSelectContent>
  <app-multiple-files-select></app-multiple-files-select>
</ng-template>

